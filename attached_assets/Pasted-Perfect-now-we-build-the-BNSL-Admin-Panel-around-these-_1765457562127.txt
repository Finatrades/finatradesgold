Perfect, now we build the **BNSL Admin Panel** around these exact legal terms.
Hereâ€™s a **ready Replit prompt** you can paste directly ğŸ‘‡

---

````txt
You are a senior frontend engineer.
Build a **BNSL Admin Panel** page for the Finatrades back-office.

Context:
BNSL (Buy Now Sell Later) is a **Deferred Price Sale Agreement**:

- Customer (Participant) sells physical gold immediately to Wingold & Metals DMCC (â€œWingoldâ€).
- Legal title transfers to Wingold at enrollment.
- Wingold owes the customer:
  1) A **Base Price Component** â€“ deferred, paid at maturity.
  2) A **Margin Component** â€“ fixed annual % of the Base Price Component, paid via quarterly disbursements.
- Quarterly disbursements are:
  - Fixed monetary margin per quarter.
  - Converted into **gold grams** at the **current market gold price on payout date**.
  - Credited into the Participantâ€™s Fina wallet.
- Early termination is a **breach** with **penalties + reimbursement of past margin payouts**, and final settlement is also in **gold grams**.

This Admin Panel is used by Finatrades and Wingold staff to:
- Monitor BNSL plans.
- See Base vs Margin components clearly.
- Review payout schedules.
- Simulate and approve **early termination** according to the Terms.
- Monitor risk and exposure.
- View audit logs.
Frontend only: use local state + mock data.

Tech:
- React (Vite + React or Next.js)
- TypeScript
- TailwindCSS
- Optional: framer-motion for smooth transitions

Design / Theme:
- Dark, premium, gold-backed admin dashboard:
  - Background gradient: #000000 â†’ #0D0515 â†’ #1A0A2E
  - Accent gold: #D1A954
  - Cards: glassmorphism (bg-white/5, border-white/10, backdrop-blur, rounded-2xl, rounded-2xl, shadow)
  - Typography: Inter for all text
- Clean, compliance-grade layout.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ROUTE & LAYOUT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Create main component: `<BnslAdminPanel />` or route `/admin/bnsl`.

Layout:
- Left sidebar: navigation + filters.
- Main content: header, KPI summary, tables, and details panel.

Sidebar sections:
- Overview
- BNSL Plans
- Early Termination Requests
- Margin Payouts
- Risk & Exposure
- Audit Log
- T&Cs Reference (read-only)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DATA MODEL (TYPE-SAFE)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Define TypeScript types that match the Terms V3.

Plan tenures and margins:
- 12-Month â†’ 8% p.a.
- 24-Month â†’ 10% p.a.
- 36-Month â†’ 12% p.a.

```ts
type BnslTenor = 12 | 24 | 36;

type BnslPlanStatus =
  | "Pending Activation"
  | "Active"
  | "Maturing"
  | "Completed"
  | "Early Termination Requested"
  | "Early Terminated"
  | "Defaulted"
  | "Cancelled";

type RiskLevel = "Low" | "Medium" | "High" | "Critical";

type BnslParticipant = {
  id: string;
  name: string;
  kycStatus: "Not Started" | "In Progress" | "Approved" | "Rejected";
  country: string;
  riskLevel: RiskLevel;
};

type BnslMarginPayoutStatus = "Scheduled" | "Processing" | "Paid" | "Failed" | "Cancelled";

type BnslMarginPayout = {
  id: string;
  planId: string;
  sequence: number;               // 1..4 / 8 / 12
  scheduledDate: string;
  monetaryAmountUsd: number;      // fixed per quarter
  marketPriceUsdPerGram?: number; // set when paid
  gramsCredited?: number;         // monetaryAmount / price
  status: BnslMarginPayoutStatus;
  paidAt?: string;
};

type BnslEarlyTerminationStatus =
  | "None"
  | "Requested"
  | "Under Review"
  | "Approved"
  | "Rejected"
  | "Settled";

type BnslEarlyTerminationRequest = {
  id: string;
  planId: string;
  requestedAt: string;
  reason: string;
  currentMarketPriceUsdPerGram: number;
  adminFeePercent: number;        // X% of Total Sale Proceeds
  penaltyPercent: number;         // Y% of Total Sale Proceeds
  totalDisbursedMarginUsd: number;
  // Computed simulation fields:
  basePriceComponentValueUsd: number;
  totalSaleProceedsUsd: number;
  totalDeductionsUsd: number;
  netValueUsd: number;
  finalGoldGrams: number;
  status: BnslEarlyTerminationStatus;
  decidedBy?: string;
  decidedAt?: string;
  decisionNotes?: string;
};

type BnslPlan = {
  id: string;
  contractId: string;             // e.g. BNSL-2025-0012
  participant: BnslParticipant;
  tenorMonths: BnslTenor;         // 12 / 24 / 36
  agreedMarginAnnualPercent: number; // 8 / 10 / 12

  goldSoldGrams: number;          // [XXXX] grams sold
  enrollmentPriceUsdPerGram: number; // "Price at Enrollment"
  basePriceComponentUsd: number;  // goldSoldGrams * enrollmentPrice
  totalMarginComponentUsd: number;// Base * rate * (tenor/12)
  quarterlyMarginUsd: number;     // totalMargin / numDisbursements
  totalSaleProceedsUsd: number;   // base + totalMargin

  startDate: string;
  maturityDate: string;
  status: BnslPlanStatus;

  payouts: BnslMarginPayout[];
  earlyTermination?: BnslEarlyTerminationRequest;

  // tracking:
  paidMarginUsd: number;
  paidMarginGrams: number;
  remainingMarginUsd: number;

  // risk:
  planRiskLevel: RiskLevel;
  notes?: string;
};

type AuditActionType =
  | "PlanCreated"
  | "PlanActivated"
  | "PayoutScheduled"
  | "PayoutPaid"
  | "EarlyTerminationRequested"
  | "EarlyTerminationSimulated"
  | "EarlyTerminationApproved"
  | "EarlyTerminationRejected"
  | "PlanCompleted"
  | "PlanCancelled"
  | "RiskUpdated";

type AuditLogEntry = {
  id: string;
  planId?: string;
  actor: string;                  // "Admin Name"
  actorRole: string;              // "Ops", "Compliance", "System"
  actionType: AuditActionType;
  timestamp: string;
  details?: string;
  oldValue?: string;
  newValue?: string;
};

type BnslExposureSummary = {
  totalActiveBasePriceUsd: number;
  totalMarginLiabilityUsd: number;
  totalQuarterlyOutflowUsd: number;
  totalParticipants: number;
  plansByStatus: Record<BnslPlanStatus, number>;
  highRiskPlansCount: number;
};
````

Maintain mock state:

* `bnslPlans: BnslPlan[]`
* `auditLogs: AuditLogEntry[]`
* `exposureSummary: BnslExposureSummary`
* `currentMarketPriceUsdPerGram: number` (global reference, editable by admin)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OVERVIEW PAGE (DEFAULT)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Main header:

* Title: "BNSL â€“ Admin Panel"
* Subtitle: "Monitor deferred price gold sale plans, margin disbursements, and early terminations."

KPI cards (top row):

* "Active Plans" â€“ count of `status === "Active"`.
* "Total Base Price Liability (USD)" â€“ sum of basePriceComponentUsd for Active + Maturing.
* "Total Margin Liability (USD)" â€“ sum of totalMarginComponentUsd for Active + Maturing.
* "Quarterly Margin Outflow (USD)" â€“ aggregated scheduled payouts next quarter.
* "Early Termination Requests" â€“ count where earlyTermination.status in Requested/Under Review.

Below KPIs:

* Chart: **Base vs Margin Exposure Over Time** (mock data).
* Table: **High Risk Plans**:

  * Plan ID
  * Participant Name
  * Country
  * Tenor / Rate
  * Plan Risk Level
  * Status
  * Action: "Open Plan"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BNSL PLANS LIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Tabbed view in main content:

* Tab 1: Plans
* Tab 2: Early Termination Requests
* Tab 3: Payouts
* Tab 4: Audit Log
* Tab 5: T&Cs Reference (read-only text)

Plans Tab:

Filters:

* Status (multi-select chips)
* Tenor (12/24/36)
* Risk (Low/Medium/High/Critical)
* Search by:

  * Plan ID
  * Participant Name
  * Country

Table columns:

* Plan ID
* Participant
* Country
* Tenor / Margin (e.g. "24M @ 10% p.a.")
* Gold Sold (g)
* Base Price (USD)
* Total Margin (USD)
* Status
* Risk Level
* Action: "View"

Click row / View button â†’ open **Plan Detail** in a right-side drawer or full page.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PLAN DETAIL VIEW (ADMIN)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Header:

* Plan ID + contract ID.
* Status badge (color-coded).
* Risk badge.
* Participant summary:

  * Name, Country, KYC status, risk level.

Under header, use inner tabs:

* Overview
* Payout Schedule
* Early Termination
* Risk & Notes
* Audit

â”€â”€â”€â”€â”€â”€â”€â”€ OVERVIEW TAB â”€â”€â”€â”€â”€â”€â”€â”€

Show two main cards:

1. **Contract Structure Card**

* "Original Sale":

  * Gold Sold: `goldSoldGrams` g
  * Enrollment Price: `$X,XXX.XX / g`
  * Base Price Component (Deferred): `$XXX,XXX.XX`
* "Margin Component":

  * Annual Margin Rate: `X% p.a.`
  * Tenor: `12 / 24 / 36 months`
  * Total Margin Component: `$YY,YYY.YY`
  * Quarterly Disbursement: `$Z,ZZZ.ZZ`
  * Number of Disbursements: `4 / 8 / 12`
* "Total Sale Proceeds":

  * Total: `$basePriceComponentUsd + totalMarginComponentUsd`
  * Text: "Total amount Wingold owes under this agreement."

Include legal reminder text (summarised):

* "This is an immediate sale of gold to Wingold. Participant no longer owns the sold gold. Rights are contractual: deferred Base Price Component + Margin Component disbursements."

2. **Lifecycle / Status Card**

* Start Date, Maturity Date.
* Current Status: Active / Maturing / Completed / Early Termination Requested etc.
* Small horizontal timeline:

  * Enrollment â†’ Quarterly Disbursements 1..N â†’ Maturity & Base Price Settlement.

â”€â”€â”€â”€â”€â”€â”€â”€ PAYOUT SCHEDULE TAB â”€â”€â”€â”€â”€â”€â”€â”€

Table for `payouts`:

Columns:

* # (sequence)
* Scheduled Date
* Monetary Amount (USD)
* Market Price at Payout (USD/g)
* Grams Credited
* Status (Scheduled/Processing/Paid/Failed/Cancelled)
* Action (if status = Scheduled: "Mark as Paid (Simulate)")

When admin clicks "Mark as Paid":

* Open modal:

  * Input: market price used (default = global `currentMarketPriceUsdPerGram` but editable).
  * Show computed:

    * `gramsCredited = monetaryAmountUsd / marketPrice`.
* On confirm:

  * Update payout:

    * status â†’ "Paid"
    * marketPriceUsdPerGram
    * gramsCredited
    * paidAt = now
  * Update plan:

    * increase `paidMarginUsd`
    * increase `paidMarginGrams`
    * decrease `remainingMarginUsd`
  * Add audit log entry `PayoutPaid`.

â”€â”€â”€â”€â”€â”€â”€â”€ EARLY TERMINATION TAB â”€â”€â”€â”€â”€â”€â”€â”€

If no request:

* Show banner: "No early termination request for this plan."
* Button: "Create Test Early Termination Simulation" (for demo only).

If request exists (`plan.earlyTermination`):

Show two cards:

A) **Request Summary**

* Request ID, Requested At.
* Reason (multi-line text).
* Status: Requested / Under Review / Approved / Rejected / Settled.
* Parameters:

  * Current Market Price (USD/g).
  * Admin Fee % of Total Sale Proceeds.
  * Early Withdrawal Penalty % of Total Sale Proceeds.
  * Total Margin Disbursed So Far (USD).

B) **Simulation Result (Based on Terms Section 5)**

Follow exactly the formula logic in UI:

Step 1 â€“ Base Price Component Valuation:

* If current price < enrollment price:

  * `basePriceComponentValueUsd = goldSoldGrams * currentMarketPrice`
* Else:

  * `basePriceComponentValueUsd = basePriceComponentUsd` (original face value)

Step 2 â€“ Deductions:

* `totalSaleProceedsUsd = basePriceComponentUsd + totalMarginComponentUsd`
* `adminFeeUsd = totalSaleProceedsUsd * (adminFeePercent / 100)`
* `earlyPenaltyUsd = totalSaleProceedsUsd * (penaltyPercent / 100)`
* `reimburseMarginUsd = totalDisbursedMarginUsd`
* `totalDeductionsUsd = adminFeeUsd + earlyPenaltyUsd + reimburseMarginUsd`

Step 3 â€“ Final In-Kind Settlement:

* `netValueUsd = basePriceComponentValueUsd - totalDeductionsUsd`
* `finalGoldGrams = netValueUsd / currentMarketPriceUsdPerGram`

UI should display:

* "Base Price Component Value (USD): ..."
* "Total Sale Proceeds (USD): ..."
* "Admin Fee (USD): ..."
* "Early Withdrawal Penalty (USD): ..."
* "Margin Reimbursement (USD): ..."
* "Total Deductions (USD): ..."
* "Net Value (USD): ..."
* "Final Gold Grams to Credit: XX.XX g"

Also show comparison:

* Original Gold Sold: `goldSoldGrams` g
* Effective Loss: `goldSoldGrams - finalGoldGrams` g
* Loss in %: `(loss / goldSoldGrams) * 100`

Actions (if status = Requested / Under Review):

* Buttons:

  * "Approve Early Termination"
  * "Reject Early Termination"
* Both trigger modal with:

  * Confirmation text
  * Decision notes (textarea)
* On Approve:

  * `earlyTermination.status = "Approved"`
  * `plan.status = "Early Terminated"`
  * Add audit log `EarlyTerminationApproved`.
  * (Comment placeholder for backend action: credit finalGoldGrams to Participant Fina wallet)
* On Reject:

  * `earlyTermination.status = "Rejected"`
  * Add audit log `EarlyTerminationRejected`.

â”€â”€â”€â”€â”€â”€â”€â”€ RISK & NOTES TAB â”€â”€â”€â”€â”€â”€â”€â”€

Display and allow editing:

* Participant risk level (Low / Medium / High / Critical).
* Plan-level risk level.
* KYC status summary.
* Free-text "Internal Risk Notes" field.

Changing values:

* Updates `plan.planRiskLevel`.
* Adds audit log `RiskUpdated`.

â”€â”€â”€â”€â”€â”€â”€â”€ AUDIT TAB â”€â”€â”€â”€â”€â”€â”€â”€

Show plan-specific audit trail:

Columns:

* Timestamp
* Actor
* Role
* Action Type
* Details
* Old â†’ New

Data: `auditLogs.filter(l => l.planId === plan.id)`.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
EARLY TERMINATION REQUESTS (GLOBAL TAB)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Separate tab listing all plans with an `earlyTermination` where status in:

* Requested
* Under Review
* Approved
* Rejected
* Settled

Filters:

* Status
* Risk Level
* Tenor
* Country

Columns:

* Request ID
* Plan ID
* Participant
* Country
* Tenor / Rate
* Current Market Price (USD/g)
* Final Gold (Simulated) vs Original Gold
* Status
* Action: "Open Plan"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
MARGIN PAYOUTS TAB (GLOBAL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Purpose: oversight over quarterly disbursements.

Filters:

* Status (Scheduled / Paid / Failed)
* Date range
* Plan ID / Participant

Columns:

* Payout ID
* Plan ID
* Participant
* Scheduled Date
* Monetary Amount (USD)
* Market Price at Payout (if paid)
* Grams Credited (if paid)
* Status

Allow admin to:

* Re-open a payout row and mark as "Paid" / "Failed" (simulation).
* On change â†’ update payout + audit log.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RISK & EXPOSURE TAB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Use `BnslExposureSummary`:

* Cards:

  * Total Active Base Price (USD)
  * Total Margin Liability (USD)
  * Quarterly Outflow (USD)
  * High/Critical Risk Plans Count
* Chart (mock):

  * Stacked bar: Base vs Margin per tenor (12/24/36).
* Table:

  * Plans grouped by tenor, showing average margin rate, total base, total margin.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
AUDIT LOG TAB (GLOBAL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Global view of all audit events.

Filters:

* By actor
* By action type
* By plan ID
* By date range

Table as in plan-specific but across all plans.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T&CS REFERENCE (READ-ONLY)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Provide a read-only panel that shows **key excerpts** from the Terms V3, not the full legal text:

Sections to list:

* Introduction & Immediate Sale
* Base Price vs Margin Component
* Quarterly Disbursements Mechanism
* Maturity Settlement in Gold Grams
* Early Termination Formula
* Risk Disclaimers (summary only)
* Group Settlement Assurance (short paragraph):

  * Show a card:

    * Title: "Group Settlement Assurance â€“ Raminvest Holding Ltd"
    * Text: "Internal group mechanism to support specific settlement obligations if Wingold cannot fulfill them. Not a banking guarantee or deposit insurance."

Include link-style button: "View full Terms & Conditions (Legal PDF)" (stub).

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UX & INTERACTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

* Use framer-motion for:

  * Right-side drawer slide-in for Plan Detail.
  * Fade-in for cards and charts.
* Tailwind for hover states:

  * `hover:border-[#D1A954] hover:shadow-lg hover:shadow-[#d1a95433] transition-all duration-200`
* Responsive:

  * On mobile, collapse tables to stacked cards.
  * Keep filters accessible in a slide-down drawer.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GOAL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Deliver a **dynamic, admin-grade BNSL panel** that:

* Reflects the precise legal structure:

  * Immediate gold sale to Wingold.
  * Deferred Base Price Component at maturity.
  * Quarterly Margin Component in gold grams.
  * Strict early termination penalties with proper formula.
* Gives admins:

  * Clear plan overview.
  * Full payout schedule control.
  * Strong early termination simulation and approval workflow.
  * Risk and exposure overview.
  * Full auditability of actions.
* All data is mock/state-based now, but ready to be connected to backend APIs later (FinaVault, FinaPay, Wingold settlement services).

```

---

If you want, next I can give you a **separate Replit prompt just for the Early Termination Simulator component** so devs can drop it into dashboard, plan detail, or even a separate â€œBNSL Risk Toolsâ€ page.
```
